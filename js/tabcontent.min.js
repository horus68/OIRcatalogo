//** Tab Content script v2.2
function ddtabcontent(t){this.tabinterfaceid=t,this.tabs=document.getElementById(t).getElementsByTagName("a"),this.enabletabpersistence=!0,this.hottabspositions=[],this.currentTabIndex=0,this.subcontentids=[],this.revcontentids=[],this.selectedClassTarget="link"}ddtabcontent.getCookie=function(t){var e=new RegExp(t+"=[^;]+","i");return document.cookie.match(e)?document.cookie.match(e)[0].split("=")[1]:""},ddtabcontent.setCookie=function(t,e){document.cookie=t+"="+e+";path=/"},ddtabcontent.prototype={expandit:function(t){this.cancelautorun();var e="";try{"string"==typeof t&&document.getElementById(t).getAttribute("rel")?e=document.getElementById(t):NaN!=parseInt(t)&&this.tabs[t].getAttribute("rel")&&(e=this.tabs[t])}catch(t){alert("Invalid Tab ID or position entered!")}""!=e&&this.expandtab(e)},cycleit:function(t,e){if("next"==t)var s=this.currentTabIndex<this.hottabspositions.length-1?this.currentTabIndex+1:0;else if("prev"==t)s=this.currentTabIndex>0?this.currentTabIndex-1:this.hottabspositions.length-1;void 0===e&&this.cancelautorun(),this.expandtab(this.tabs[this.hottabspositions[s]])},setpersist:function(t){this.enabletabpersistence=t},setselectedClassTarget:function(t){this.selectedClassTarget=t||"link"},getselectedClassTarget:function(t){return this.selectedClassTarget=="linkparent".toLowerCase()?t.parentNode:t},urlparamselect:function(t){return null==window.location.search.match(new RegExp(t+"=(\\d+)","i"))?null:parseInt(RegExp.$1)},expandtab:function(t){var e=t.getAttribute("rel"),s=t.getAttribute("rev")?","+t.getAttribute("rev").replace(/\s+/,"")+",":"";this.expandsubcontent(e),this.expandrevcontent(s);for(var n=0;n<this.tabs.length;n++)this.getselectedClassTarget(this.tabs[n]).className=this.tabs[n].getAttribute("rel")==e?"selected":"";this.enabletabpersistence&&ddtabcontent.setCookie(this.tabinterfaceid,t.tabposition),this.setcurrenttabindex(t.tabposition)},expandsubcontent:function(t){for(var e=0;e<this.subcontentids.length;e++){var s=document.getElementById(this.subcontentids[e]);s.style.display=s.id==t?"block":"none"}},expandrevcontent:function(t){for(var e=this.revcontentids,s=0;s<e.length;s++)document.getElementById(e[s]).style.display=-1!=t.indexOf(","+e[s]+",")?"block":"none"},setcurrenttabindex:function(t){for(var e=0;e<this.hottabspositions.length;e++)if(t==this.hottabspositions[e]){this.currentTabIndex=e;break}},autorun:function(){this.cycleit("next",!0)},cancelautorun:function(){void 0!==this.autoruntimer&&clearInterval(this.autoruntimer)},init:function(t){var e=ddtabcontent.getCookie(this.tabinterfaceid),s=-1,n=this.urlparamselect(this.tabinterfaceid);this.automodeperiod=t||0;for(var i=0;i<this.tabs.length;i++)if(this.tabs[i].tabposition=i,this.tabs[i].getAttribute("rel")){var a=this;this.hottabspositions[this.hottabspositions.length]=i,this.subcontentids[this.subcontentids.length]=this.tabs[i].getAttribute("rel"),this.tabs[i].onclick=function(){return a.expandtab(this),a.cancelautorun(),!1},this.tabs[i].getAttribute("rev")&&(this.revcontentids=this.revcontentids.concat(this.tabs[i].getAttribute("rev").split(/\s*,\s*/))),(n==i||this.enabletabpersistence&&-1==s&&parseInt(e)==i||!this.enabletabpersistence&&-1==s&&"selected"==this.getselectedClassTarget(this.tabs[i]).className)&&(s=i)}-1!=s?this.expandtab(this.tabs[s]):this.expandtab(this.tabs[this.hottabspositions[0]]),parseInt(this.automodeperiod)>500&&this.hottabspositions.length>1&&(this.autoruntimer=setInterval(function(){a.autorun()},this.automodeperiod))}};